<!DOCTYPE html>
<html>

<head>
    <title>IT Solutions</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="logo.jpg">
    <link href="style.css" rel="stylesheet" />
</head>

<body>
    <header>
        <style>
            h1 {
                color: rgb(9, 79, 79);
                font-family: verdana;
                font-size: 300%;
            }
        </style>
        <h1>IT Solutions</h1>
        <img src="logo.jpg" width="200" height="200">
    </header>
    <nav>
        <span> <a href="home.html">Home</a></span>
        <span> <a href="about.html">About US</a></span>
        <span> Courses </span> &nbsp;
        <span> <a href="contact.html">Contact US</a></span>
    </nav>
    <article>
        <div class="page-title">
            <h2> About Us </h2>

        </div>

        <div class="col">
            <h3>We provide trainings on below topics</h3>
            <ol type="1" id="courseDetails">

                <!-- <li>HTML</li>
                <li>CSS</li>
                <li>JS</li>
                <li>Nodejs</li>
                <li>Angular</li>
                <li>MEAN / MEARN stack</li> -->
            </ol>
            <button onclick="getCourses()">More</button>
        </div>
        <div class="col">
            <iframe width="420" height="315" src="https://www.youtube.com/embed/tgbNymZ7vqY">
            </iframe>
        </div>
        <div class="col">
            <img src="mean.jpg" width="300" height="200">
        </div>

    </article>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
    <script>
        const getCourses = async () => {
            try {
                const resp = await fetch('/courses');
                const data = await resp.json();
                console.log("Data from DB:", data.data[0].Courses)
                const courses = data.data[0].Courses;
                const AllCourses = courses.split(',');
                console.log("Allcourses", AllCourses);
                let HtmlData = '';
                let mappedData = AllCourses.map((item) => { return `<li> ${item}</li>` }).join('');
                console.log("Mapped Array", mappedData);

                // for (let i = 0; i < AllCourses.length; i++) {
                //     HtmlData = HtmlData + `<li> ${AllCourses[i]}</li>`;

                // }
                const courseDetailsContainer = document.getElementById('courseDetails');
                courseDetailsContainer.innerHTML = mappedData;
            } catch (e) {
                console.error('Error fetching courses');
            }
        }


        document.getElementById('courseDetails').addEventListener('click', getCourses)

    </script>
    <footer>
        <h2>Copyright IT Solutions 2023: &copy; &#128509;</h2>

    </footer>
</body>

</html>